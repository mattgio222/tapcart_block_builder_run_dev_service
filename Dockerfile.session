# Dockerfile for individual dev session machines
# This image is pushed to Fly's registry and used when creating session machines

FROM node:20-slim

# Install Tapcart CLI globally
RUN npm install -g @tapcart/tapcart-cli

WORKDIR /app

# Copy entrypoint script
COPY entrypoint.sh /entrypoint.sh
RUN chmod +x /entrypoint.sh

EXPOSE 5000

ENTRYPOINT ["/entrypoint.sh"]
